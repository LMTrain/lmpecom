(window.webpackJsonpmern=window.webpackJsonpmern||[]).push([[0],{40:function(e,t,a){e.exports=a(90)},45:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(35),r=a.n(o),i=a(103),c=a(104),s=a(15),u=a(16),m=a(19),h=a(17),d=a(20),b=(a(45),a(11)),f=a.n(b),p=function(e){return f.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc")},E=function(){return f.a.get("/api/books")},g=function(e){return f.a.put("/api/books/"+e)},v=function(e){return f.a.delete("/api/books/"+e)},k=function(e){return f.a.post("/api/books",e)},y=a(92),S=a(96),w=a(97),N=a(98),B=a(99),I=a(100),O=a(102),j=a(93),C=a(94),D=a(95),F=[],A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={book:{},favBooks:[],isOpen:!1},a.loadBooks=function(){E().then((function(e){a.setState({book:e.data,id:"",title:"",authors:"",link:"",thumbnail:"",description:"",publisheddate:"",note:""})})).catch((function(e){return console.log(e)}))},a.loadFavBooks=function(){F=a.state.book,console.log("THIS IS FAVBOOKS",F),a.renderDetailModal(F)},a.handleNoteSubmit=function(e){e.preventDefault(),a.addNote(a.state.book.note)},a.addNote=function(e){var t=a.state.book.find((function(t){return t._id===e}));a.setState({book:t});var n=String(a.state.book.note);g({note:n}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},a.deleteBook=function(e){v(e).then((function(e){return a.loadBooks()})).catch((function(e){return console.log(e)}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.loadBooks()}},{key:"handleToggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"renderDetailModal",value:function(e){var t=this.state,a=t.isOpen,n=t.toggle;return e.map((function(e,t){return l.a.createElement(y.a,{key:t,md:"4"},l.a.createElement("p",null,l.a.createElement("b",null,"Title: "),e.title),l.a.createElement("div",null,l.a.createElement(O.a,{isOpen:a,toggle:n},l.a.createElement(j.a,{toggle:n},e.title),l.a.createElement(C.a,null,l.a.createElement("p",null,l.a.createElement("b",null,"Title: "),e.title),l.a.createElement("p",null,l.a.createElement("b",null,"Authors: "),e.authors),l.a.createElement("p",null,l.a.createElement("b",null,"Published Date: "),e.publisheddate),l.a.createElement("p",null,l.a.createElement("b",null,"Description: "),e.description),l.a.createElement("p",null,l.a.createElement("b",null,"Note: "),e.note)),l.a.createElement(D.a,null,l.a.createElement(S.a,{color:"secondary",onClick:n},"Cancel")))),");")}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(w.a,null,l.a.createElement(y.a,null,l.a.createElement("h3",{className:"text-center"},"My Favorite Books"))),l.a.createElement(w.a,null,this.state.book.length?l.a.createElement("div",{className:"book-row-display"},this.state.book.map((function(t){return l.a.createElement(y.a,{key:t._id,md:""},l.a.createElement("span",{onClick:e.loadFavBooks},l.a.createElement(N.a,{className:"book-card"},l.a.createElement(B.a,{className:"book-card-header"},l.a.createElement("b",null,"Title :")," ",t.title),l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{alt:t.title,width:"130",height:"160",src:t.thumbnail})),l.a.createElement(I.a,{className:"content"},l.a.createElement("p",null,l.a.createElement("b",null,"Authors :"),t.authors),l.a.createElement("p",null,l.a.createElement("b",null,"Published Date :")," ",t.publisheddate)),l.a.createElement("span",null,l.a.createElement(S.a,{key:t._id,type:"submit",onClick:function(){return e.deleteBook(t._id)},color:"danger",size:"sm"},"Delete"),l.a.createElement(S.a,{key:t._id,type:"submit",onClick:function(){return e.editNote(t._id)},color:"info",size:"sm"},"Edit Note")))))}))):l.a.createElement("h4",null,"...Loading")))}}]),t}(n.Component);a(76);var L=function(e){return l.a.createElement("div",{className:"hero text-center",style:{backgroundImage:"url(".concat(e.backgroundImage,")")}},e.children)};var x=function(e){return l.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":"")},e))};var T=function(e){return l.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e))};var z=function(e){var t=e.size.split(" ").map((function(e){return"col-"+e})).join(" ");return l.a.createElement("div",Object.assign({className:t},e))};var M=function(){return l.a.createElement("div",null,l.a.createElement(L,{backgroundImage:"https://lmtrain.github.io/lm-images/assets/images/books6.jpg"},l.a.createElement("h1",null,"LM Books Search"),l.a.createElement("h2",null,"A Place To Find All Your Books")),l.a.createElement(x,{style:{marginTop:10}},l.a.createElement(T,null,l.a.createElement(z,{size:"md-12"},l.a.createElement("h3",null,"Welcome!"))),l.a.createElement(T,null,l.a.createElement(z,{size:"md-12"},l.a.createElement("p",null,"LM Books Search uses Google API's for book searching to searches the full text of books and magazines that Google has scanned, converted to text using optical character recognition (OCR), and stored in its digital database. Books are provided either by publishers and authors through the Google Books Partner Program, or by Google's library partners through the Library Project. Additionally, Google has partnered with a number of magazine publishers to digitize their archives."),l.a.createElement("p",null),l.a.createElement("p",null,"The Google Books initiative has been hailed for its potential to offer unprecedented access to what may become the largest online body of human knowledge and promoting the democratization of knowledge. However, it has also been criticized for potential copyright violations, and lack of editing to correct the many errors introduced into the scanned texts by the OCR process."),l.a.createElement("p",null,"As of October 2015, the number of scanned book titles was over 25 million, but the scanning process has slowed down in American academic libraries.")))))},P=a(36);a(77);var G=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,l.a.createElement("form",{className:"search"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"search"}),l.a.createElement("input",{value:e.search,onChange:e.handleInputChange,name:"search",type:"text",className:"form-control",placeholder:"Search for Books or type a title",id:"search"}),l.a.createElement("span",null,l.a.createElement("button",{type:"submit",onClick:e.handleFormSubmit,className:"btn btn-success"},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-search"}))))))),l.a.createElement("div",null,l.a.createElement("img",{className:"image",alt:"",width:"950",height:"400",src:"https://lmtrain.github.io/lm-images/assets/images/books2.jpg"})))};a(78);var R=function(e){return console.log("SEARCH RESULTS",e),l.a.createElement("div",{className:"result-box"},l.a.createElement("ul",{className:"list-group search-results"},e.books.map((function(t){return l.a.createElement("li",{key:t.etag,className:"list-group-item"},l.a.createElement("img",{alt:t.volumeInfo.title,width:"180",height:"200",className:"img-fluid",src:null==t.volumeInfo.imageLinks?"https://lmtrain.github.io/lm-images/assets/images/books5.jpg":t.volumeInfo.imageLinks.thumbnail}),l.a.createElement("span",null,"     "),l.a.createElement("span",null,l.a.createElement("button",{id:t.etag,type:"submit",onClick:function(){return e.handleDetailsSubmit(t.id)},className:"btn btn-success"},"Detail")),l.a.createElement("span",null,"  "),l.a.createElement("span",null,l.a.createElement("button",{id:t.etag,type:"submit",onClick:function(){return e.favoriteSubmit(t.id)},className:"btn btn-success"},"Add to Favorite")),l.a.createElement("span",null,"  "),l.a.createElement("p",null,l.a.createElement("b",null,"Title             :")," ",t.volumeInfo.title),l.a.createElement("span",null,l.a.createElement("b",null,"Authors         :")," ",t.volumeInfo.authors," | |"),l.a.createElement("span",null,l.a.createElement("b",null,"Published Date :")," ",t.volumeInfo.publishedDate))}))))};a(79);var _=function(e){return l.a.createElement("div",null,l.a.createElement("ul",{className:"list-group search-favBooks"},e.showBook.map((function(e){return l.a.createElement("li",{key:e.id,className:"list-group-item"},l.a.createElement("img",{alt:e.volumeInfo.title,width:"200",height:"220",className:"img-fluid",src:null==e.volumeInfo.imageLinks?"https://lmtrain.github.io/lm-images/assets/images/books5.jpg":e.volumeInfo.imageLinks.thumbnail}),l.a.createElement("span",null),l.a.createElement("span",null,l.a.createElement("a",{href:"/search/"},l.a.createElement("button",{type:"submit",className:"btn btn-success"},"Back To Search"))),l.a.createElement("p",null,l.a.createElement("b",null,"Title             :")," ",e.volumeInfo.title),l.a.createElement("span",null,l.a.createElement("b",null,"Authors         :")," ",e.volumeInfo.authors," | |"),l.a.createElement("p",null,l.a.createElement("b",null,"Published Date :")," ",e.volumeInfo.publishedDate),l.a.createElement("p",null,l.a.createElement("b",null,"Description :")," ",e.volumeInfo.description))}))))},H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={search:"",favMessage:"",id:"",books:[],title:"",authors:"",link:"",thumbnail:"",description:"",publisheddate:"",error:"",showBook:[],showBookState:!1},a.searchForBooks=function(e){p(e).then((function(e){return a.setState({books:e.data.items})})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(P.a)({},t,n))},a.handleDetailsSubmit=function(e){var t=a.state.books.find((function(t){return t.id===e}));a.setState({showBook:[t],showBookState:!0})},a.handleFormSubmit=function(e){e.preventDefault(),a.searchForBooks(a.state.search)},a.favoriteSubmit=function(e){var t=a.state.books.find((function(t){return t.id===e}));if(a.setState({showBook:[t],showBookState:!1}),console.log("FAV BOOK",t),console.log("IMAGE URL",t.volumeInfo.imageLinks),void 0===t.volumeInfo.imageLinks)var n="https://lmtrain.github.io/lm-images/assets/images/books5.jpg";else n=String(t.volumeInfo.imageLinks.thumbnail);if(void 0===t.volumeInfo.description)var l="This book does not include a brief summary";else l=String(t.volumeInfo.description);if(void 0===t.volumeInfo.publishedDate)var o="2020";else o=String(t.volumeInfo.publishedDate);var r=String(t.id),i=String(t.volumeInfo.title),c=String(t.volumeInfo.authors),s=String(t.volumeInfo.infoLink);function u(e,t){return e.length>t&&t>3?e.slice(0,t-3)+"...":e.length>t&&t<=3?e.slice(0,t)+"...":e}l=u(l,1780),i=u(i,40),k({bookid:r,title:i,authors:c,link:s,thumbnail:n,description:l,note:"",publisheddate:o}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showBookState,a=e.showBook;return l.a.createElement("div",null,l.a.createElement(x,{style:{minHeight:"80%"}},l.a.createElement("h3",{className:"text-center"},"Search For Books"),l.a.createElement(G,{search:this.state.search,handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange}),t?l.a.createElement(_,{showBook:a}):l.a.createElement(R,{books:void 0===this.state.books?[]:this.state.books,favoriteSubmit:this.favoriteSubmit,handleDetailsSubmit:this.handleDetailsSubmit})))}}]),t}(n.Component),K=a(101);a(80);var U=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark"},l.a.createElement(K.a,{className:"navbar-brand",to:"/"},"LM Books"),l.a.createElement("div",null,l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(K.a,{to:"/",className:"/"===window.location.pathname||"/about"===window.location.pathname?"nav-link active":"nav-link"},"About")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(K.a,{to:"/Favorite",className:"/Favorite"===window.location.pathname?"nav-link active":"nav-link"},"Favorite")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(K.a,{to:"/search",className:"/search"===window.location.pathname?"nav-link active":"nav-link"},"Search")))))};a(83);var W=function(){return l.a.createElement("footer",{className:"footer"},l.a.createElement("span",null,"Copyright \xa9 LM Systems LLC 2019"))};a(84);var J=function(e){return l.a.createElement("main",Object.assign({className:"wrapper"},e))};a(85).config();var V=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(U,null),l.a.createElement(J,null,l.a.createElement(c.a,{exact:!0,path:"/",component:M}),l.a.createElement(c.a,{exact:!0,path:"/about",component:M}),l.a.createElement(c.a,{exact:!0,path:"/Favorite",component:A}),l.a.createElement(c.a,{exact:!0,path:"/search",component:H})),l.a.createElement(W,null)))};a(89);r.a.render(l.a.createElement(V,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.51d918e3.chunk.js.map